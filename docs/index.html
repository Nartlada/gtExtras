<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Additional features for creating beautiful tables with gt • gtExtras</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Additional features for creating beautiful tables with gt">
<meta property="og:description" content="An easy to use and powerful package for creating tables that will blow your mind">
<meta property="og:image" content="https://jthomasmock.github.io/gtExtras/reference/figures/opengraph.png">
<meta property="og:image:alt" content="Screenshot of a data table that has the win/loss record of the 2020 NFL teams">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@thomas_mock">
<meta name="twitter:site" content="https://jthomasmock.github.io/gtExtras">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">gtExtras</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.23</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/plots-in-gt.html">Graphing in gt</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jthomasmock/gtExtras/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="gtextras" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#gtextras" class="anchor"></a>gtExtras</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of <a href="https://github.com/jthomasmock/gtExtra">gtExtras</a> is to provide some additional helper functions to assist in creating beautiful tables with <a href="https://gt.rstudio.com/">gt</a>.</p>
<p>The functions are generally wrappers around boilerplate or adding capabilities that are currently not <em>yet</em> built into <a href="https://gt.rstudio.com/">gt</a>. The <a href="https://gt.rstudio.com/"><code>{gt}</code> package</a> is amazing, make sure to go read the official documentation.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the dev version of gtExtras from <a href="https://github.com/jthomasmock/gtExtra">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># if needed install.packages("remotes")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"jthomasmock/gtExtras"</span><span class="op">)</span></code></pre></div>
<div id="fmt_symbol_first" class="section level3">
<h3 class="hasAnchor">
<a href="#fmt_symbol_first" class="anchor"></a><code>fmt_symbol_first</code>
</h3>
<p>This function allows you to format your columns only on the first row, where remaining rows in that column have whitespace added to the end to maintain proper alignment.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jthomasmock/gtExtra">gtExtras</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/">gt</a></span><span class="op">)</span>

<span class="va">gtcars</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">mfr</span>, <span class="va">year</span>, <span class="va">bdy_style</span>, <span class="va">mpg_h</span>, <span class="va">hp</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>mpg_h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">22</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/opt_table_lines.html">opt_table_lines</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/fmt_symbol_first.html">fmt_symbol_first</a></span><span class="op">(</span>column <span class="op">=</span> <span class="va">mfr</span>, symbol <span class="op">=</span> <span class="st">"&amp;#x24;"</span>, last_row_n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/fmt_symbol_first.html">fmt_symbol_first</a></span><span class="op">(</span>column <span class="op">=</span> <span class="va">year</span>, suffix <span class="op">=</span> <span class="st">"%"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/fmt_symbol_first.html">fmt_symbol_first</a></span><span class="op">(</span>column <span class="op">=</span> <span class="va">mpg_h</span>, symbol <span class="op">=</span> <span class="st">"&amp;#37;"</span>, decimals <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/fmt_symbol_first.html">fmt_symbol_first</a></span><span class="op">(</span><span class="va">hp</span>, symbol <span class="op">=</span> <span class="st">"&amp;#176;"</span>, suffix <span class="op">=</span> <span class="st">"F"</span>, symbol_first <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/gt_fmt_first.png" width="700px"></p>
</div>
<div id="pad_fn" class="section level3">
<h3 class="hasAnchor">
<a href="#pad_fn" class="anchor"></a><code>pad_fn</code>
</h3>
<p>You can use <code><a href="reference/pad_fn.html">pad_fn()</a></code> with <code><a href="https://gt.rstudio.com/reference/fmt.html">gt::fmt()</a></code> to pad specific columns that contain numeric values. You will use it when you want to “decimal align” the values in the column, but not require printing extra trailing zeroes.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1.2345</span>, <span class="fl">12.345</span>, <span class="fl">123.45</span>, <span class="fl">1234.5</span>, <span class="fl">12345</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt.html">fmt</a></span><span class="op">(</span>fns <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="reference/pad_fn.html">pad_fn</a></span><span class="op">(</span><span class="va">x</span>, nsmall <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">}</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_style.html">tab_style</a></span><span class="op">(</span>
    <span class="co"># MUST USE A MONO-SPACED FONT</span>
    style <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/cell_text.html">cell_text</a></span><span class="op">(</span>font <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/google_font.html">google_font</a></span><span class="op">(</span><span class="st">"Fira Mono"</span><span class="op">)</span><span class="op">)</span>,
    locations <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/cells_body.html">cells_body</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">x</span><span class="op">)</span>
    <span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/gt_pad_fn.png" width="200px"></p>
</div>
<div id="themes" class="section level3">
<h3 class="hasAnchor">
<a href="#themes" class="anchor"></a>Themes</h3>
<p>The package includes two different themes, the <code><a href="reference/gt_theme_538.html">gt_theme_538()</a></code> styled after FiveThirtyEight style tables, and <code><a href="reference/gt_theme_espn.html">gt_theme_espn()</a></code> styled after ESPN style tables.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_theme_538.html">gt_theme_538</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/gt_538.png" width="700px"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_theme_espn.html">gt_theme_espn</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/gt_espn.png" width="700px"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_theme_nytimes.html">gt_theme_nytimes</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html">tab_header</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Table styled like the NY Times"</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/gt_nyt.png" width="700px"></p>
</div>
<div id="hulk-data_color" class="section level3">
<h3 class="hasAnchor">
<a href="#hulk-data_color" class="anchor"></a>Hulk data_color</h3>
<p>This is an opinionated diverging color palette. It diverges from low to high as purple to green. It is a good alternative to a red-green diverging palette as a color-blind friendly palette. The specific colors come from <a href="https://colorbrewer2.org/#type=diverging&amp;scheme=PRGn&amp;n=7">colorbrewer2</a>.</p>
<p>Basic usage below, where a specific column is passed.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># basic use</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_hulk_col_numeric.html">gt_hulk_col_numeric</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/hulk_basic.png" width="700px"></p>
<p>Trim provides a tighter range of purple/green so the colors are less pronounced.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># trim gives smaller range of colors</span>
  <span class="co"># so the green and purples are not as dark</span>
  <span class="fu"><a href="reference/gt_hulk_col_numeric.html">gt_hulk_col_numeric</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">:</span><span class="va">disp</span>, trim <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </code></pre></div>
<p align="center">
<img src="reference/figures/hulk_trim.png" width="700px"></p>
<!-- width="1200px" -->
<p>Reverse makes higher values represented by purple and lower by green. The default is to have high = green, low = purple.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># option to reverse the color palette</span>
<span class="co"># so that purple is higher</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># reverse = green for low, purple for high</span>
  <span class="fu"><a href="reference/gt_hulk_col_numeric.html">gt_hulk_col_numeric</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">:</span><span class="va">disp</span>, reverse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </code></pre></div>
<p align="center">
<img src="reference/figures/hulk_reverse.png" width="700px"></p>
</div>
<div id="gt_color_rows" class="section level3">
<h3 class="hasAnchor">
<a href="#gt_color_rows" class="anchor"></a><code>gt_color_rows()</code>
</h3>
<p>The <code><a href="reference/gt_color_rows.html">gt_color_rows()</a></code> function is a thin boilerplate wrapper around <code><a href="https://gt.rstudio.com/reference/data_color.html">gt::data_color()</a></code>. It’s simpler to use but still provides rich color choices thanks to the inclusion of <code><a href="https://rdrr.io/pkg/paletteer/man/paletteer_d.html">paletteer::paletteer_d()</a></code>. This can provide 100s of discrete (ie categorical) or continuous color palettes.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># basic use</span>
<span class="va">mtcars</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_color_rows.html">gt_color_rows</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">:</span><span class="va">disp</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/basic-pal.png" width="700px"></p>
<p>You can change the specific palette with <code>palette = "package_name::palette_name"</code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># recognizes all of the dynamic palettes from paletteer</span>
<span class="va">mtcars</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_color_rows.html">gt_color_rows</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">:</span><span class="va">disp</span>, palette <span class="op">=</span> <span class="st">"ggsci::blue_material"</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/blue-pal.png" width="700px"></p>
<p>You can also use custom-defined palettes if you wish with <code>use_paletteer = FALSE</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_color_rows.html">gt_color_rows</a></span><span class="op">(</span>
    <span class="va">mpg</span><span class="op">:</span><span class="va">disp</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"green"</span><span class="op">)</span>,
    <span class="co"># could also use palette = c("#ffffff", "##00FF00")</span>
    use_paletteer <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/custom-pal.png" width="700px"></p>
<p>Lastly, you can also provide categorical or discrete data to be colored.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># provide type = "discrete"</span>
<span class="va">mtcars</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_color_rows.html">gt_color_rows</a></span><span class="op">(</span>
    <span class="va">cyl</span>, type <span class="op">=</span> <span class="st">"discrete"</span>,
    palette <span class="op">=</span> <span class="st">"ggthemes::colorblind"</span>, 
    <span class="co"># note that you can manually define range like c(4, 6, 8)</span>
    domain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span>
   <span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/discrete-pal.png" width="700px"></p>
</div>
<div id="gt_highlight_rows" class="section level3">
<h3 class="hasAnchor">
<a href="#gt_highlight_rows" class="anchor"></a><code>gt_highlight_rows()</code>
</h3>
<p>This provides the ability to highlight and optionally bold entire rows within an existing <code>gt</code> table. Basic use defaults to a light-blue highlight which can be changed with the <code>fill</code> argument.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="st">"car"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_highlight_rows.html">gt_highlight_rows</a></span><span class="op">(</span>rows <span class="op">=</span> <span class="fl">2</span>, font_weight <span class="op">=</span> <span class="st">"normal"</span><span class="op">)</span> </code></pre></div>
<p align="center">
<img src="reference/figures/highlight-basic.png" width="500px"></p>
<p>You can optionally specify a target column with <code>target_col</code> that will be bold, while the rest of the row’s text will be default weight.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="st">"car"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_highlight_rows.html">gt_highlight_rows</a></span><span class="op">(</span>
    rows <span class="op">=</span> <span class="fl">5</span>, 
    fill <span class="op">=</span> <span class="st">"lightgrey"</span>,
    bold_target_only <span class="op">=</span> <span class="cn">TRUE</span>,
    target_col <span class="op">=</span> <span class="va">car</span>
    <span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/highlight-target.png" width="500px"></p>
</div>
<div id="gt_kable_sparkline" class="section level3">
<h3 class="hasAnchor">
<a href="#gt_kable_sparkline" class="anchor"></a><code>gt_kable_sparkline()</code>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># must end up with list of data for each row in the input dataframe</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mpg_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_kable_sparkline.html">gt_kable_sparkline</a></span><span class="op">(</span><span class="va">mpg_data</span>, height <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/kable-sparkline.png" width="200px"></p>
</div>
<div id="gt_bar_plot" class="section level3">
<h3 class="hasAnchor">
<a href="#gt_bar_plot" class="anchor"></a><code>gt_bar_plot()</code>
</h3>
<p>The <code>gt_bar_plot</code> function takes an existing <code>gt_tbl</code> object and adds horizontal barplots via native HTML. This is a wrapper around raw HTML strings, <code><a href="https://gt.rstudio.com/reference/text_transform.html">gt::text_transform()</a></code> and <code><a href="https://gt.rstudio.com/reference/cols_align.html">gt::cols_align()</a></code>. Note that values default to being normalized to the percent of the maximum observed value in the specified column. You can turn this off if the values already represent a percentage value representing 0-100.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">mpg</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>mpg_pct_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,
                mpg_scaled <span class="op">=</span> <span class="va">mpg</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>mpg_unscaled <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gt_bar_plot</span><span class="op">(</span>column <span class="op">=</span> <span class="va">mpg_scaled</span>, scaled <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">gt_bar_plot</span><span class="op">(</span>column <span class="op">=</span> <span class="va">mpg_unscaled</span>, scaled <span class="op">=</span> <span class="cn">FALSE</span>, fill <span class="op">=</span> <span class="st">"blue"</span>, background <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_align.html">cols_align</a></span><span class="op">(</span><span class="st">"center"</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">contains</a></span><span class="op">(</span><span class="st">"scale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_width.html">cols_width</a></span><span class="op">(</span><span class="fl">4</span> <span class="op">~</span> <span class="fu"><a href="https://gt.rstudio.com/reference/px.html">px</a></span><span class="op">(</span><span class="fl">125</span><span class="op">)</span>,
             <span class="fl">5</span> <span class="op">~</span> <span class="fu"><a href="https://gt.rstudio.com/reference/px.html">px</a></span><span class="op">(</span><span class="fl">125</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/gt_bar_plot.png" width="700px"></p>
</div>
<div id="gt_merge_stack" class="section level3">
<h3 class="hasAnchor">
<a href="#gt_merge_stack" class="anchor"></a><code>gt_merge_stack()</code>
</h3>
<p>The <code><a href="reference/gt_merge_stack.html">gt_merge_stack()</a></code> function takes an existing <code>gt</code> table and merges column 1 and column 2, stacking column 1’s text on top of column 2’s. Top text is in all caps with black bold text, while the lower text is smaller and dark grey.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">team_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html">url</a></span><span class="op">(</span><span class="st">"https://github.com/nflverse/nflfastR-data/raw/master/teams_colors_logos.rds"</span><span class="op">)</span><span class="op">)</span>

<span class="va">team_df</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">team_nick</span>, <span class="va">team_abbr</span>, <span class="va">team_conf</span>, <span class="va">team_division</span>, <span class="va">team_wordmark</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">8</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span>groupname_col <span class="op">=</span> <span class="st">"team_conf"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_merge_stack.html">gt_merge_stack</a></span><span class="op">(</span>col1 <span class="op">=</span> <span class="va">team_nick</span>, col2 <span class="op">=</span> <span class="va">team_division</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_img_rows.html">gt_img_rows</a></span><span class="op">(</span><span class="va">team_wordmark</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/merge-stack.png" width="500px"></p>
</div>
<div id="gt_plt_winloss" class="section level3">
<h3 class="hasAnchor">
<a href="#gt_plt_winloss" class="anchor"></a><code>gt_plt_winloss()</code>
</h3>
<p>This function takes a list-column of win loss values (ie, 0=loss, 0.5 = tie, 1 = win) and ouputs an inline plot representing the win/loss squares with blue = win, red = loss, grey = tie. Points are also also redundantly coded with height, where wins are highest, ties are middle, and losses are at the bottom.</p>
<p>The example below generates an example dataset and then embeds a plot.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">create_input_df</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">repeats</span> <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">{</span>
  
  <span class="va">input_df</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
    team <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"B2"</span>, <span class="st">"C3"</span>, <span class="st">"C4"</span><span class="op">)</span>,
    Wins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,
    Losses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>,
    Ties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span>,
    outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.5</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span>each <span class="op">=</span> <span class="va">repeats</span><span class="op">)</span>,
      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span>each <span class="op">=</span> <span class="va">repeats</span><span class="op">)</span>,
      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span>each <span class="op">=</span> <span class="va">repeats</span><span class="op">)</span>,
      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span>each <span class="op">=</span> <span class="va">repeats</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>
  
  <span class="va">input_df</span>
  
<span class="op">}</span>

<span class="fu">create_input_df</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; create_input_df(5) %&gt;% </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   dplyr::glimpse()</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 4</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 5</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ team     &lt;chr&gt; "A1", "B2", "C3", "C4"</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Wins     &lt;dbl&gt; 3, 2, 1, 1</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Losses   &lt;dbl&gt; 2, 3, 2, 4</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Ties     &lt;dbl&gt; 0, 0, 2, 0</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ outcomes &lt;list&gt; &lt;1.0, 1.0, 1.0, 1.0, 1.0, 0.5,...</span></span></code></pre></div>
<p>Now that we have way to quickly generate example data, we can show the ability to incrementally add the win/losses.</p>
<p>Starting with 3 games. <strong>Please ignore the Wins/Loss/Ties columns</strong>, as they are simply placeholders. I am iterating the length of the outcomes list row.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">create_input_df</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_plt_winloss.html">gt_plt_winloss</a></span><span class="op">(</span><span class="va">outcomes</span>, max_wins <span class="op">=</span> <span class="fl">15</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_options.html">tab_options</a></span><span class="op">(</span>data_row.padding <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/px.html">px</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/wl-1.png" width="500px"></p>
<p>And moving to 12 games, we can see that the scale is unchanged, and “empty” points are replaced with outcomes once the values are present in the data.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">create_input_df</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_plt_winloss.html">gt_plt_winloss</a></span><span class="op">(</span><span class="va">outcomes</span>, max_wins <span class="op">=</span> <span class="fl">15</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_options.html">tab_options</a></span><span class="op">(</span>data_row.padding <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/px.html">px</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gtsave.html">gtsave</a></span><span class="op">(</span><span class="st">"man/figures/wl-4.png"</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/wl-4.png" width="500px"></p>
<p>You can also switch over to ‘squares’ instead of ‘pills’ by changing the <code>type</code> argument.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">create_input_df</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_plt_winloss.html">gt_plt_winloss</a></span><span class="op">(</span><span class="va">outcomes</span>, max_wins <span class="op">=</span> <span class="fl">15</span>, type <span class="op">=</span> <span class="st">"square"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_options.html">tab_options</a></span><span class="op">(</span>data_row.padding <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/px.html">px</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/wl-4-sq.png" width="500px"></p>
<p>A more realistic use case is seen below with data from <a href="https://nflreadr.nflverse.com">nflreadr</a>:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://nflreadr.nflverse.com">nflreadr</a></span><span class="op">)</span>

<span class="va">games_df</span> <span class="op">&lt;-</span> <span class="fu">nflreadr</span><span class="fu">::</span><span class="fu"><a href="https://nflreadr.nflverse.com/reference/load_schedules.html">load_schedules</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">season</span> <span class="op">==</span> <span class="fl">2020</span>, <span class="va">game_type</span> <span class="op">==</span> <span class="st">"REG"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">game_id</span>, team_home <span class="op">=</span> <span class="va">home_team</span>, team_away <span class="op">=</span> <span class="va">away_team</span>, <span class="va">result</span>, <span class="va">week</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">pivot_longer</span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">contains</a></span><span class="op">(</span><span class="st">'team'</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">'home_away'</span>, values_to <span class="op">=</span> <span class="st">'team'</span>, names_prefix <span class="op">=</span> <span class="st">'team_'</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>
    result <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">home_away</span> <span class="op">==</span> <span class="st">'home'</span>, <span class="va">result</span>, <span class="op">-</span><span class="va">result</span><span class="op">)</span>,
    win <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">result</span> <span class="op">==</span> <span class="fl">0</span> , <span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">result</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">week</span>, <span class="va">team</span>, <span class="va">win</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>
    team <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span>
      <span class="va">team</span> <span class="op">==</span> <span class="st">'STL'</span> <span class="op">~</span> <span class="st">'LA'</span>,
      <span class="va">team</span> <span class="op">==</span> <span class="st">'OAK'</span> <span class="op">~</span> <span class="st">'LV'</span>,
      <span class="va">team</span> <span class="op">==</span> <span class="st">'SD'</span> <span class="op">~</span> <span class="st">'LAC'</span>,
      <span class="cn">T</span> <span class="op">~</span> <span class="va">team</span>
    <span class="op">)</span>
  <span class="op">)</span>

<span class="va">team_df</span> <span class="op">&lt;-</span> <span class="fu">nflreadr</span><span class="fu">::</span><span class="fu"><a href="https://nflreadr.nflverse.com/reference/load_teams.html">load_teams</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">team_wordmark</span>, <span class="va">team_abbr</span>, <span class="va">team_conf</span>, <span class="va">team_division</span><span class="op">)</span>

<span class="va">joined_df</span> <span class="op">&lt;-</span> <span class="va">games_df</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">team</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarise</span><span class="op">(</span>
    Wins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">win</span><span class="op">[</span><span class="va">win</span><span class="op">==</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,
    Losses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">win</span><span class="op">[</span><span class="va">win</span><span class="op">==</span><span class="fl">0</span><span class="op">]</span><span class="op">)</span>,
    outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">win</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">left_join</span><span class="op">(</span><span class="va">team_df</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"team"</span> <span class="op">=</span> <span class="st">"team_abbr"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">team_wordmark</span>, <span class="va">team_conf</span>, <span class="va">team_division</span>, <span class="va">Wins</span><span class="op">:</span><span class="va">outcomes</span><span class="op">)</span>

<span class="va">final_df</span> <span class="op">&lt;-</span> <span class="va">joined_df</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">team_conf</span> <span class="op">==</span> <span class="st">"AFC"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">team_division</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">Wins</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">arrange</span><span class="op">(</span><span class="va">team_division</span><span class="op">)</span>

<span class="va">final_df</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span>groupname_col <span class="op">=</span> <span class="st">"team_division"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/gt_plt_winloss.html">gt_plt_winloss</a></span><span class="op">(</span><span class="va">outcomes</span>, max_wins <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_img_rows.html">gt_img_rows</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">team_wordmark</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="reference/gt_theme_538.html">gt_theme_538</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html">tab_header</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"2020 Results by Division for the AFC"</span><span class="op">)</span></code></pre></div>
<p align="center">
<img src="reference/figures/nfl-outcomes.png" width="500px"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/jthomasmock/gtExtras/">https://​github.com/​jthomasmock/​gtExtras/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jthomasmock/gtExtras/issues">https://​github.com/​jthomasmock/​gtExtras/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Thomas Mock <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Thomas Mock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
